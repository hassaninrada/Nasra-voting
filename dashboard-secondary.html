<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Executive Dashboard â€” Secondary Wing</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800;900&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --primary-blue: #3498DB;
      --light-blue-bg: #E3F2FD;
      --soft-blue: #BBDEFB;
      --deep-blue: #1565C0;
      --text-main: #0D47A1;
      --card-glass: rgba(255, 255, 255, 0.7);
      --border-glass: rgba(187, 222, 251, 0.5);
      --shadow-premium: 0 20px 40px -10px rgba(13, 71, 161, 0.1);
    }

    body {
      background-color: var(--light-blue-bg);
      font-family: 'Outfit', sans-serif;
      color: var(--text-main);
    }

    .sidebar-premium {
      background: white;
      border-right: 2px solid var(--border-glass);
      box-shadow: 20px 0 50px rgba(13, 71, 161, 0.05);
    }

    .glass-card {
      background: var(--card-glass);
      backdrop-filter: blur(10px);
      border: 2px solid var(--border-glass);
      box-shadow: var(--shadow-premium);
    }

    .state-active {
      background: var(--deep-blue) !important;
      color: white !important;
      box-shadow: 0 10px 20px rgba(21, 101, 192, 0.2);
    }

    .fadeIn {
      animation: fadeIn 0.6s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .nav-link {
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      cursor: pointer;
      color: var(--text-main);
      opacity: 0.6;
      touch-action: manipulation;
    }

    .nav-link:hover:not(.state-active) {
      background: var(--soft-blue);
      opacity: 1;
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: var(--soft-blue);
      border-radius: 10px;
    }

    section.hidden {
      display: none !important;
      visibility: hidden;
      pointer-events: none;
    }
  </style>
</head>

<body class="min-h-screen flex">





  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar-premium w-72 flex flex-col p-8 fixed h-full z-50 translate-x-0">
    <div class="flex items-center justify-start gap-4 mb-12 border-b-2 border-blue-50 pb-8">
      <div class="flex items-center gap-4">
        <div class="w-12 h-12 bg-blue-900 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
          <img src="https://nasraschool.edu.pk/wp-content/uploads/2024/03/logo.webp" class="w-8 h-8" />
        </div>
        <div>
          <h2 class="text-blue-900 font-black leading-none text-sm tracking-tight uppercase">Nasra Trust</h2>
          <p class="text-blue-400 text-[10px] uppercase tracking-widest mt-1">Secondary Wing</p>
        </div>
      </div>
    </div>

    <nav class="space-y-2 flex-grow overflow-y-auto custom-scrollbar pr-2">
      <button id="nav-insights"
        class="nav-link w-full text-left state-active flex items-center gap-4 py-4 px-6 rounded-2xl font-bold text-sm border-0 bg-transparent">
        <i class="fa-solid fa-chart-pie"></i>
        <span>Live Insights</span>
      </button>
      <button id="nav-candidates"
        class="nav-link w-full text-left flex items-center gap-4 py-4 px-6 rounded-2xl font-bold text-sm border-0 bg-transparent">
        <i class="fa-solid fa-users-gear"></i>
        <span>Candidates</span>
      </button>
      <a href="index STUDENT .html" class="nav-link flex items-center gap-4 py-4 px-6 rounded-2xl font-bold text-sm">
        <i class="fa-solid fa-house"></i>
        <span>Portal Entry</span>
      </a>
      <a href="index.html" class="nav-link flex items-center gap-4 py-4 px-6 rounded-2xl font-bold text-sm">
        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Exit HQ</span>
      </a>
    </nav>

    <div class="space-y-3 mt-auto pt-8 border-t-2 border-blue-50">
      <button id="resetAllBtn"
        class="w-full bg-red-50 text-red-500 hover:bg-red-600 hover:text-white font-black py-4 rounded-2xl transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2">
        <i class="fa-solid fa-trash-can"></i>
        <span>Global Reset</span>
      </button>
      <button id="exportBtn"
        class="w-full bg-blue-50 text-blue-600 hover:bg-black hover:text-white font-black py-4 rounded-2xl transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2">
        <i class="fa-solid fa-file-export"></i>
        <span>Export Data</span>
      </button>
    </div>
  </aside>



  <!-- Main Content -->
  <main class="flex-1 ml-72 p-16 fadeIn pt-16">

    <!-- Insights Section -->
    <section id="section-insights">
      <header class="flex flex-row justify-between items-end gap-6 mb-12">
        <div>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 bg-blue-500/10 rounded-full border border-blue-500/20 mb-3">
            <div class="w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"></div>
            <span class="text-[10px] font-black text-blue-600 uppercase tracking-widest">Realtime Sync Active</span>
          </div>
          <h1 class="text-4xl font-black text-blue-900 tracking-tight">Secondary Election Hub</h1>
          <p class="text-blue-400 font-medium mt-1 uppercase text-xs tracking-[0.2em]">Operational Overview & Analytics
          </p>
        </div>

        <div class="flex gap-4">
          <div class="text-right">
            <p class="text-[10px] font-black text-blue-300 uppercase tracking-widest mb-1">Total Impact</p>
            <p class="text-3xl font-black text-blue-900 leading-none" id="totalVotesStat">0</p>
          </div>
        </div>
      </header>

      <div class="grid grid-cols-3 gap-8 mb-12">
        <div class="col-span-2 glass-card rounded-[3rem] p-10 relative overflow-hidden">
          <div class="flex flex-row items-center justify-between gap-4 mb-10">
            <div>
              <h2 class="text-xl font-black text-blue-900 tracking-tight">Ballot Standings</h2>
              <p class="text-blue-400 text-xs font-bold uppercase tracking-widest mt-1" id="currentCategoryText">Wing
                Head Boy</p>
            </div>
            <select id="categorySelect"
              class="w-auto bg-white border-2 border-blue-50 text-blue-900 font-bold py-3 px-6 rounded-2xl outline-none focus:border-blue-500 transition-all text-sm">
              <option value="headboy_secondary">Wing Head Boy</option>
              <option value="headgirl_secondary">Wing Head Girl</option>
              <option value="deputyboy_secondary">Deputy Head Boy</option>
              <option value="deputygirl_secondary">Deputy Head Girl</option>
            </select>
          </div>

          <div class="h-80 w-full">
            <canvas id="resultChart"></canvas>
          </div>
        </div>

        <div class="space-y-8">
          <div class="glass-card rounded-[3rem] p-8">
            <h3 class="text-xs font-black text-blue-400 uppercase tracking-widest mb-6">Live Stream Logs</h3>
            <div id="logs" class="space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar">
              <div class="flex gap-3 items-start opacity-50 italic text-xs text-blue-900">Waiting for incoming voting
                packets...</div>
            </div>
          </div>
        </div>
      </div>

    </section>

    <!-- Candidates Section -->
    <section id="section-candidates" class="hidden">
      <header class="mb-12">
        <h1 class="text-4xl font-black text-blue-900 tracking-tight">Candidate Management</h1>
        <p class="text-blue-400 font-medium mt-1 uppercase text-xs tracking-[0.2em]">Configure Secondary Wing
          Participants</p>
      </header>

      <div class="grid grid-cols-3 gap-8">
        <!-- Add Candidate Form -->
        <div class="col-span-1">
          <div class="glass-card rounded-[3rem] p-10">
            <h3 class="text-xs font-black text-blue-400 uppercase tracking-widest mb-8">Register Candidate</h3>
            <form id="candidateForm" class="space-y-5">
              <div class="space-y-1">
                <label class="text-[9px] font-black text-blue-400 uppercase tracking-widest ml-2">Full Name</label>
                <input type="text" id="candName" required
                  class="w-full bg-white border-2 border-blue-50 rounded-2xl p-4 outline-none focus:border-blue-500 transition-all font-bold text-sm text-blue-900"
                  placeholder="e.g. Hassan Ahmed">
              </div>
              <div class="space-y-1">
                <label class="text-[9px] font-black text-blue-400 uppercase tracking-widest ml-2">Ballot Role</label>
                <select id="candRole"
                  class="w-full bg-white border-2 border-blue-50 rounded-2xl p-4 font-bold outline-none text-sm text-blue-900">
                  <option value="headboy_secondary">Wing Head Boy</option>
                  <option value="headgirl_secondary">Wing Head Girl</option>
                  <option value="deputyboy_secondary">Deputy Head Boy</option>
                  <option value="deputygirl_secondary">Deputy Head Girl</option>
                </select>
              </div>
              <div class="space-y-1">
                <label class="text-[9px] font-black text-blue-400 uppercase tracking-widest ml-2">Candidate
                  Portrait</label>
                <div class="flex gap-2">
                  <input type="file" id="candImageFile" accept="image/*"
                    class="flex-1 bg-white border-2 border-blue-50 rounded-2xl p-3 outline-none focus:border-blue-500 transition-all text-sm text-blue-900 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-600 hover:file:bg-blue-100">
                  <button type="button" id="clearPhotoBtn"
                    class="px-4 py-2 bg-red-50 text-red-600 rounded-xl text-xs font-bold hover:bg-red-100 transition-all">Clear</button>
                </div>
                <input type="url" id="candImage"
                  class="w-full bg-white border-2 border-blue-50 rounded-2xl p-4 outline-none focus:border-blue-500 transition-all font-bold text-sm text-blue-900"
                  placeholder="Or paste image URL here">
                <div id="photoPreview" class="hidden mt-2 p-2 bg-blue-50 rounded-xl">
                  <img src="" class="w-24 h-24 object-cover rounded-xl mx-auto border-2 border-blue-200">
                </div>
              </div>
              <div class="space-y-1">
                <label class="text-[9px] font-black text-blue-400 uppercase tracking-widest ml-2">Election
                  Symbol</label>
                <div class="flex gap-2">
                  <input type="file" id="candSymbolFile" accept="image/*"
                    class="flex-1 bg-white border-2 border-blue-50 rounded-2xl p-3 outline-none focus:border-blue-500 transition-all text-sm text-blue-900 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-600 hover:file:bg-blue-100">
                  <button type="button" id="clearSymbolBtn"
                    class="px-4 py-2 bg-red-50 text-red-600 rounded-xl text-xs font-bold hover:bg-red-100 transition-all">Clear</button>
                </div>
                <input type="url" id="candSymbol"
                  class="w-full bg-white border-2 border-blue-50 rounded-2xl p-4 outline-none focus:border-blue-500 transition-all font-bold text-sm text-blue-900"
                  placeholder="Or paste symbol URL here">
                <div id="symbolPreview" class="hidden mt-2 p-2 bg-blue-50 rounded-xl">
                  <img src="" class="w-16 h-16 object-contain rounded-xl mx-auto">
                </div>
              </div>
              <button type="submit"
                class="w-full bg-blue-800 text-white font-black py-5 rounded-2xl shadow-xl hover:bg-black transition-all uppercase tracking-widest text-xs mt-4">
                Authorize Registration
              </button>
            </form>
          </div>
        </div>

        <!-- Candidates List -->
        <div class="col-span-2">
          <div class="glass-card rounded-[3rem] p-10 min-h-[600px]">
            <div class="flex items-center justify-between mb-10">
              <h3 class="text-xs font-black text-blue-400 uppercase tracking-widest">Active Candidates</h3>
              <div class="flex gap-2">
                <button id="refreshBtn"
                  class="p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-all"><i
                    class="fa-solid fa-rotate"></i></button>
              </div>
            </div>
            <div id="candidatesGrid" class="grid grid-cols-2 gap-4">
              <!-- Candidates injected here -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="dashboard-secondary.js?v=8"></script>
  <script src='developer-credit.js'></script>

</body>

</html>